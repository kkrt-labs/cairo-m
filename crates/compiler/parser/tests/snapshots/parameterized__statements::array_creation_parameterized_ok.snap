---
source: crates/compiler/parser/tests/common.rs
expression: snapshot
---
--- Input 1 ---
fn test() { let arr = [1, 2, 3]; }
--- AST ---
[
    Function(
        Spanned(
            FunctionDef {
                name: Spanned(
                    "test",
                    3..7,
                ),
                params: [],
                return_type: Spanned(
                    Tuple(
                        [],
                    ),
                    0..0,
                ),
                body: [
                    Spanned(
                        Let {
                            pattern: Identifier(
                                Spanned(
                                    "arr",
                                    16..19,
                                ),
                            ),
                            statement_type: None,
                            value: Spanned(
                                ArrayLiteral(
                                    [
                                        Spanned(
                                            Literal(
                                                1,
                                                None,
                                            ),
                                            23..24,
                                        ),
                                        Spanned(
                                            Literal(
                                                2,
                                                None,
                                            ),
                                            26..27,
                                        ),
                                        Spanned(
                                            Literal(
                                                3,
                                                None,
                                            ),
                                            29..30,
                                        ),
                                    ],
                                ),
                                22..31,
                            ),
                        },
                        12..32,
                    ),
                ],
            },
            0..34,
        ),
    ),
]
============================================================

--- Input 2 ---
fn test() { let arr: [felt; 3] = [1, 2, 3]; }
--- AST ---
[
    Function(
        Spanned(
            FunctionDef {
                name: Spanned(
                    "test",
                    3..7,
                ),
                params: [],
                return_type: Spanned(
                    Tuple(
                        [],
                    ),
                    0..0,
                ),
                body: [
                    Spanned(
                        Let {
                            pattern: Identifier(
                                Spanned(
                                    "arr",
                                    16..19,
                                ),
                            ),
                            statement_type: Some(
                                Spanned(
                                    FixedArray {
                                        element_type: Spanned(
                                            Named(
                                                Spanned(
                                                    Felt,
                                                    22..26,
                                                ),
                                            ),
                                            22..26,
                                        ),
                                        size: Spanned(
                                            3,
                                            28..29,
                                        ),
                                    },
                                    21..30,
                                ),
                            ),
                            value: Spanned(
                                ArrayLiteral(
                                    [
                                        Spanned(
                                            Literal(
                                                1,
                                                None,
                                            ),
                                            34..35,
                                        ),
                                        Spanned(
                                            Literal(
                                                2,
                                                None,
                                            ),
                                            37..38,
                                        ),
                                        Spanned(
                                            Literal(
                                                3,
                                                None,
                                            ),
                                            40..41,
                                        ),
                                    ],
                                ),
                                33..42,
                            ),
                        },
                        12..43,
                    ),
                ],
            },
            0..45,
        ),
    ),
]
============================================================

--- Input 3 ---
fn test() { let arr: [u32; 3] = [1, 2, 3]; }
--- AST ---
[
    Function(
        Spanned(
            FunctionDef {
                name: Spanned(
                    "test",
                    3..7,
                ),
                params: [],
                return_type: Spanned(
                    Tuple(
                        [],
                    ),
                    0..0,
                ),
                body: [
                    Spanned(
                        Let {
                            pattern: Identifier(
                                Spanned(
                                    "arr",
                                    16..19,
                                ),
                            ),
                            statement_type: Some(
                                Spanned(
                                    FixedArray {
                                        element_type: Spanned(
                                            Named(
                                                Spanned(
                                                    U32,
                                                    22..25,
                                                ),
                                            ),
                                            22..25,
                                        ),
                                        size: Spanned(
                                            3,
                                            27..28,
                                        ),
                                    },
                                    21..29,
                                ),
                            ),
                            value: Spanned(
                                ArrayLiteral(
                                    [
                                        Spanned(
                                            Literal(
                                                1,
                                                None,
                                            ),
                                            33..34,
                                        ),
                                        Spanned(
                                            Literal(
                                                2,
                                                None,
                                            ),
                                            36..37,
                                        ),
                                        Spanned(
                                            Literal(
                                                3,
                                                None,
                                            ),
                                            39..40,
                                        ),
                                    ],
                                ),
                                32..41,
                            ),
                        },
                        12..42,
                    ),
                ],
            },
            0..44,
        ),
    ),
]
============================================================

--- Input 4 ---
fn test() { let arr: [MyStruct; 3] = [MyStruct { x: 1, y: 2 }, MyStruct { x: 3, y: 4 }, MyStruct { x: 5, y: 6 }]; }
--- AST ---
[
    Function(
        Spanned(
            FunctionDef {
                name: Spanned(
                    "test",
                    3..7,
                ),
                params: [],
                return_type: Spanned(
                    Tuple(
                        [],
                    ),
                    0..0,
                ),
                body: [
                    Spanned(
                        Let {
                            pattern: Identifier(
                                Spanned(
                                    "arr",
                                    16..19,
                                ),
                            ),
                            statement_type: Some(
                                Spanned(
                                    FixedArray {
                                        element_type: Spanned(
                                            Named(
                                                Spanned(
                                                    Custom(
                                                        "MyStruct",
                                                    ),
                                                    22..30,
                                                ),
                                            ),
                                            22..30,
                                        ),
                                        size: Spanned(
                                            3,
                                            32..33,
                                        ),
                                    },
                                    21..34,
                                ),
                            ),
                            value: Spanned(
                                ArrayLiteral(
                                    [
                                        Spanned(
                                            StructLiteral {
                                                name: Spanned(
                                                    "MyStruct",
                                                    38..46,
                                                ),
                                                fields: [
                                                    (
                                                        Spanned(
                                                            "x",
                                                            49..50,
                                                        ),
                                                        Spanned(
                                                            Literal(
                                                                1,
                                                                None,
                                                            ),
                                                            52..53,
                                                        ),
                                                    ),
                                                    (
                                                        Spanned(
                                                            "y",
                                                            55..56,
                                                        ),
                                                        Spanned(
                                                            Literal(
                                                                2,
                                                                None,
                                                            ),
                                                            58..59,
                                                        ),
                                                    ),
                                                ],
                                            },
                                            38..61,
                                        ),
                                        Spanned(
                                            StructLiteral {
                                                name: Spanned(
                                                    "MyStruct",
                                                    63..71,
                                                ),
                                                fields: [
                                                    (
                                                        Spanned(
                                                            "x",
                                                            74..75,
                                                        ),
                                                        Spanned(
                                                            Literal(
                                                                3,
                                                                None,
                                                            ),
                                                            77..78,
                                                        ),
                                                    ),
                                                    (
                                                        Spanned(
                                                            "y",
                                                            80..81,
                                                        ),
                                                        Spanned(
                                                            Literal(
                                                                4,
                                                                None,
                                                            ),
                                                            83..84,
                                                        ),
                                                    ),
                                                ],
                                            },
                                            63..86,
                                        ),
                                        Spanned(
                                            StructLiteral {
                                                name: Spanned(
                                                    "MyStruct",
                                                    88..96,
                                                ),
                                                fields: [
                                                    (
                                                        Spanned(
                                                            "x",
                                                            99..100,
                                                        ),
                                                        Spanned(
                                                            Literal(
                                                                5,
                                                                None,
                                                            ),
                                                            102..103,
                                                        ),
                                                    ),
                                                    (
                                                        Spanned(
                                                            "y",
                                                            105..106,
                                                        ),
                                                        Spanned(
                                                            Literal(
                                                                6,
                                                                None,
                                                            ),
                                                            108..109,
                                                        ),
                                                    ),
                                                ],
                                            },
                                            88..111,
                                        ),
                                    ],
                                ),
                                37..112,
                            ),
                        },
                        12..113,
                    ),
                ],
            },
            0..115,
        ),
    ),
]
