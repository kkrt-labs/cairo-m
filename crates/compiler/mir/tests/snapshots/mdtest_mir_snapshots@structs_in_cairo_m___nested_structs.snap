---
source: crates/compiler/mir/tests/mdtest_snapshots.rs
description: "MIR snapshot for mdtest: Structs in Cairo-M - Nested Structs"
input_file: mdtest/03-types/02-structs.md
---
Source:
struct Point {
    x: felt,
    y: felt,
}

struct Line {
    start: Point,
    end: Point,
}

fn line_length_squared() -> felt {
    let line = Line {
        start: Point { x: 0, y: 0 },
        end: Point { x: 3, y: 4 }
    };
    let dx = line.end.x - line.start.x;
    let dy = line.end.y - line.start.y;
    return dx * dx + dy * dy;  // Returns 25
}
============================================================
Generated MIR:
module {
  // Function 0
  fn line_length_squared {
    entry: 0

    0:
      %0 = makestruct { x: 0, y: 0 }
      %1 = makestruct { x: 3, y: 4 }
      %2 = makestruct { start: %0, end: %1 }
      %3 = extractfield %2, "end"
      %4 = extractfield %3, "x"
      %5 = extractfield %2, "start"
      %6 = extractfield %5, "x"
      %7 = %4 Sub %6
      %8 = extractfield %2, "end"
      %9 = extractfield %8, "y"
      %10 = extractfield %2, "start"
      %11 = extractfield %10, "y"
      %12 = %9 Sub %11
      %13 = %7 Mul %7
      %14 = %12 Mul %12
      %15 = %13 Add %14
      return %15

  }

}
