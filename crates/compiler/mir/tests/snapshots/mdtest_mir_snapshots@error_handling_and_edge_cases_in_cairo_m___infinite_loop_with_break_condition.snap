---
source: crates/compiler/mir/tests/mdtest_snapshots.rs
description: "MIR snapshot for mdtest: Error Handling and Edge Cases in Cairo-M - Infinite Loop with Break Condition"
input_file: mdtest/05-edge-cases/01-error-handling.md
---
Source:
fn loop_with_escape() -> u32 {
    let counter = 0u32;

    loop {
        counter = counter + 1u32;

        // Multiple exit conditions
        if (counter > 1000u32) {
            break;  // Prevent actual infinite loop
        }

        if (counter == 10u32) {
            break;
        }
    }

    return counter;  // Should return 100
}
============================================================
Generated MIR:
module {
  // Function 0
  fn loop_with_escape {
    entry: 0

    0:
      %0 = 0 (u32)
      jump 1

    1 (block_1):
      ; block_1
      %1 = φ felt { [%0]: %0, [%6]: %2 }
      %2 = %1 U32Add 1
      %3 = %2 U32Greater 1000
      if %3 then jump 3 else jump 4

    2 (block_2):
      ; block_2
      %5 = φ felt { [%3]: %1, [%5]: %2 }
      return %5

    3 (block_3):
      ; block_3
      jump 2

    4 (block_4):
      ; block_4
      if %2 U32Eq 10 then jump 5 else jump 6

    5 (block_5):
      ; block_5
      jump 2

    6 (block_6):
      ; block_6
      jump 1

  }

}
