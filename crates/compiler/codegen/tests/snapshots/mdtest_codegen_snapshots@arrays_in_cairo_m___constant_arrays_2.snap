---
source: crates/compiler/codegen/tests/mdtest_snapshots.rs
description: "Codegen snapshot for mdtest: Arrays in Cairo-M - Constant Arrays 2"
input_file: mdtest/01-basics/05-arrays.md
---
Source:
const POW2: [u32; 3] = [1, 2, 4];

fn test_main() -> u32 {
    return const_arr_access_const_value(0);
}

fn const_arr_access_const_value(i: felt) -> u32 {
    return POW2[i];
}
============================================================
Generated CASM:
test_main:
test_main:
test_main_0:
   0: 9 0 2 _              // Arg 0: [fp + 2] = 0
   1: 10 5 5 _             // call const_arr_access_const_value
   2: 4 3 0 2147483643     // Return value 0 slot 0: [fp -4] = [fp + 3] + 0
   3: 4 4 0 2147483644     // Return value 0 slot 1: [fp -3] = [fp + 4] + 0
   4: 11 _ _ _             // return
const_arr_access_const_value:
const_arr_access_const_value:
const_arr_access_const_value_0:
   5: 9 13 0 _             // [fp + 0] = <RODATA_0>
   6: 6 2147483642 2 3     // [fp + 3] = [fp + -5] * 2 - Scale index by element size
   7: 42 0 3 1             // [fp + 1] = [[fp + 0] + [fp + 3]]
   8: 4 3 1 4              // [fp + 4] = [fp + 3] + 1 (offset for slot 1)
   9: 42 0 4 2             // [fp + 2] = [[fp + 0] + [fp + 4]] (slot 1)
  10: 4 1 0 2147483643     // Return value 0 slot 0: [fp -4] = [fp + 1] + 0
  11: 4 2 0 2147483644     // Return value 0 slot 1: [fp -3] = [fp + 2] + 0
  12: 11 _ _ _             // return
---- rodata (base 13) ----
; blob 0 (6 words)
  13: 1 0 0 0
  14: 0 0 0 0
  15: 2 0 0 0
  16: 0 0 0 0
  17: 4 0 0 0
  18: 0 0 0 0
