---
source: crates/compiler/codegen/tests/mdtest_snapshots.rs
description: "Codegen snapshot for mdtest: Error Handling and Edge Cases in Cairo-M - Zero Conditions and Truthiness"
input_file: mdtest/05-edge-cases/01-error-handling.md
---
Source:
fn zero_truthiness(x: felt) -> felt {
    // Test various zero conditions
    if (x == 0) {
        return 1;
    }
    if (x != 0) {
        return 3;
    }
    return 4;  // Should never reach here
}
============================================================
Generated CASM:
zero_truthiness:
zero_truthiness:
zero_truthiness_0:
   0: 4 2147483643 0 0     // [fp + 0] = [fp + -4] + (-0) (-0 as M31 -> 0)
   1: 14 0 3 _             // if [fp + 0] != 0 jmp rel not_zero_0
   2: 9 1 0 _              // [fp + 0] = 1
   3: 13 2 _ _             // jump rel end_1
not_zero_0:
   4: 9 0 0 _              // [fp + 0] = 0
end_1:
   5: 14 0 2 _             // if [fp + 0] != 0 jmp rel zero_truthiness_1
   6: 13 3 _ _             // jump rel zero_truthiness_2
zero_truthiness_1:
   7: 9 1 2147483644 _     // Return value 0: [fp -3] = 1
   8: 11 _ _ _             // return
zero_truthiness_2:
   9: 4 2147483643 0 1     // [fp + 1] = [fp + -4] + (-0) (-0 as M31 -> 0)
  10: 14 1 3 _             // if [fp + 1] != 0 jmp rel neq_non_zero_2
  11: 9 0 1 _              // [fp + 1] = 0
  12: 13 2 _ _             // jump rel neq_end_3
neq_non_zero_2:
  13: 9 1 1 _              // [fp + 1] = 1
neq_end_3:
  14: 14 1 2 _             // if [fp + 1] != 0 jmp rel zero_truthiness_3
  15: 13 3 _ _             // jump rel zero_truthiness_4
zero_truthiness_3:
  16: 9 3 2147483644 _     // Return value 0: [fp -3] = 3
  17: 11 _ _ _             // return
zero_truthiness_4:
  18: 9 4 2147483644 _     // Return value 0: [fp -3] = 4
  19: 11 _ _ _             // return
