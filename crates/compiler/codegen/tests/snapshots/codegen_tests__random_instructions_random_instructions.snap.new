---
source: crates/compiler/codegen/tests/codegen_tests.rs
assertion_line: 144
expression: snapshot_content
---
---
source: crates/compiler/codegen/tests/codegen_tests.rs
expression: codegen_output
---
Fixture: random_instructions.cm
============================================================
Source code:
func main(){
    let x = 3;
    let eq2 = x == 3;
    return eq2;
}

============================================================
Generated CASM:
main:
   0: 6 3 _ 0              // Store immediate: [fp + 0] = 3
   1: 3 0 3 1              // Equality check: [fp + 1] = [fp + 0] - 3
   2: 31 1 3 _             // if [fp + 1] != 0 jmp rel eq_false_1
   3: 6 1 _ 1              // [fp + 1] = 1
   4: 20 6 _ _             // jump abs eq_end_1
eq_false_1:
   5: 6 0 _ 1              // [fp + 1] = 0
eq_end_1:
   6: 4 1 _ 2              // Store: [fp + 2] = [fp + 1]
   7: 4 2 _ -3             // Return value: [fp - 3] = [fp + 2]
   8: 15 _ _ _             // return
