---
source: crates/compiler/codegen/tests/mdtest_snapshots.rs
description: "Codegen snapshot for mdtest: Loops in Cairo-M - Loop with Break"
input_file: mdtest/02-control-flow/02-loops.md
---
Source:
fn loop_with_break() -> felt {
    let i = 10;
    loop {
        if i == 7 || i == 0 {
            break;
        }
        i = i - 1;
    }
    return i;
}
============================================================
Generated CASM:
loop_with_break:
loop_with_break:
loop_with_break_0:
   0: 9 10 0 _             // [fp + 0] = 10
   1: 4 0 0 1              // [fp + 1] = [fp + 0] + 0
loop_with_break_1:
   2: 4 1 2147483640 2     // [fp + 2] = [fp + 1] - 7 (-7 as M31 -> 2147483640 (=-7 mod M31))
   3: 14 2 3 _             // if [fp + 2] != 0 jmp rel not_zero_0
   4: 9 1 2 _              // [fp + 2] = 1
   5: 12 7 _ _             // jump abs end_1
not_zero_0:
   6: 9 0 2 _              // [fp + 2] = 0
end_1:
   7: 4 1 0 3              // [fp + 3] = [fp + 1] - 0 (-0 as M31 -> 0)
   8: 14 3 3 _             // if [fp + 3] != 0 jmp rel not_zero_2
   9: 9 1 3 _              // [fp + 3] = 1
  10: 12 12 _ _            // jump abs end_3
not_zero_2:
  11: 9 0 3 _              // [fp + 3] = 0
end_3:
  12: 9 0 4 _              // Initialize OR result to 0
  13: 14 2 3 _             // if [fp + 2] != 0 jmp rel or_true_4
  14: 14 3 2 _             // if [fp + 3] != 0 jmp rel or_true_4
  15: 12 17 _ _            // jump abs or_end_5
or_true_4:
  16: 9 1 4 _              // [fp + 4] = 1
or_end_5:
  17: 14 4 4 _             // if [fp + 4] != 0 jmp rel loop_with_break_3
  18: 12 22 _ _            // jump abs loop_with_break_4
loop_with_break_2:
  19: 4 1 0 -3             // Return value 0: [fp -3] = [fp + 1] + 0
  20: 11 _ _ _             // return
loop_with_break_3:
  21: 12 19 _ _            // jump abs loop_with_break_2
loop_with_break_4:
  22: 4 1 2147483646 5     // [fp + 5] = [fp + 1] - 1 (-1 as M31 -> 2147483646 (=-1 mod M31))
  23: 4 5 0 1              // [fp + 1] = [fp + 5] + 0
  24: 12 2 _ _             // jump abs loop_with_break_1
