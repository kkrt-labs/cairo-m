---
source: crates/compiler/codegen/tests/mdtest_snapshots.rs
description: "Codegen snapshot for mdtest: Structs in Cairo-M - Struct Field Access 2"
input_file: mdtest/03-types/02-structs.md
---
Source:
struct RectangleU32 {
    width: u32,
    height: u32,
}

fn calculate_area_u32() -> u32 {
    let rect = RectangleU32 { width: 5, height: 10 };
    rect.width = 7;
    if rect.width == 5 {
        rect.width = rect.width * 3;
    } else {
        rect.width = rect.height;
    }
    return rect.width * rect.height;
}
============================================================
Generated CASM:
calculate_area_u32:
calculate_area_u32:
calculate_area_u32_0:
   0: 23 5 0 0             // [fp + 0], [fp + 1] = u32(5)
   1: 23 10 0 2            // [fp + 2], [fp + 3] = u32(10)
   2: 23 7 0 0             // [fp + 0], [fp + 1] = u32(7)
   3: 30 0 5 0 34          // [fp + 34] = u32([fp + 0], [fp + 1]) U32Eq u32(5, 0) /* imm = 0x00000005 */
   4: 14 34 2 _            // if [fp + 34] != 0 jmp rel calculate_area_u32_1
   5: 12 16 _ _            // jump abs calculate_area_u32_2
calculate_area_u32_1:
   6: 21 0 3 0 12          // u32([fp + 12], [fp + 13]) = u32([fp + 0], [fp + 1]) U32Mul u32(3, 0) /* imm = 0x00000003 */
   7: 4 12 0 0             // [fp + 0] = [fp + 12] + 0
   8: 4 13 0 1             // [fp + 1] = [fp + 13] + 0
   9: 4 0 0 18             // [fp + 18] = [fp + 0] + 0 (slot 1 of 4)
  10: 4 1 0 19             // [fp + 19] = [fp + 1] + 0 (slot 2 of 4)
  11: 4 2 0 20             // [fp + 20] = [fp + 2] + 0 (slot 3 of 4)
  12: 4 3 0 21             // [fp + 21] = [fp + 3] + 0 (slot 4 of 4)
  13: 12 22 _ _            // jump abs calculate_area_u32_3
calculate_area_u32_2:
  14: 4 2 0 0              // [fp + 0] = [fp + 2] + 0
  15: 4 3 0 1              // [fp + 1] = [fp + 3] + 0
  16: 4 0 0 18             // [fp + 18] = [fp + 0] + 0 (slot 1 of 4)
  17: 4 1 0 19             // [fp + 19] = [fp + 1] + 0 (slot 2 of 4)
  18: 4 2 0 20             // [fp + 20] = [fp + 2] + 0 (slot 3 of 4)
  19: 4 3 0 21             // [fp + 21] = [fp + 3] + 0 (slot 4 of 4)
calculate_area_u32_3:
  20: 17 18 20 32          // u32([fp + 32], [fp + 33]) = u32([fp + 18], [fp + 19]) U32Mul u32([fp + 20], [fp + 21])
  21: 4 32 0 -4            // Return value 0 slot 0: [fp -4] = [fp + 32] + 0
  22: 4 33 0 -3            // Return value 0 slot 1: [fp -3] = [fp + 33] + 0
  23: 11 _ _ _             // return
