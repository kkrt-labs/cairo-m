---
source: crates/compiler/codegen/tests/codegen_auto_discovery.rs
description: Codegen snapshot for expressions/comparison_ops.cm
input_file: test_data/expressions/comparison_ops.cm
---
Fixture: expressions/comparison_ops.cm
============================================================
Source code:
//!ASSERT CONTAINS: Less
//!ASSERT CONTAINS: Greater
//!ASSERT CONTAINS: LessEqual
//!ASSERT CONTAINS: GreaterEqual

// Tests new comparison operations.
fn test_less(a: felt, b: felt) -> felt {
    let c = a < b;
    return c;
}

fn test_greater(a: felt, b: felt) -> felt {
    let c = a > b;
    return c;
}

fn test_less_equal(a: felt, b: felt) -> felt {
    let c = a <= b;
    return c;
}

fn test_greater_equal(a: felt, b: felt) -> felt {
    let c = a >= b;
    return c;
}

// Test comparison operators in conditional context
fn test_comparison_in_if(x: felt, y: felt) -> felt {
    if (x < y) {
        return 1;
    } else if (x > y) {
        return 2;
    } else {
        return 0;
    }
}

============================================================
Result: SEMANTIC ERRORS
Semantic errors found:
DiagnosticCollection {
    diagnostics: [
        Diagnostic {
            severity: Error,
            code: TypeMismatch,
            message: "Operator `<` is not supported for type `felt`",
            file_path: "expressions/comparison_ops.cm",
            span: 206..207,
            related_spans: [],
        },
        Diagnostic {
            severity: Error,
            code: TypeMismatch,
            message: "Operator `>` is not supported for type `felt`",
            file_path: "expressions/comparison_ops.cm",
            span: 286..287,
            related_spans: [],
        },
        Diagnostic {
            severity: Error,
            code: TypeMismatch,
            message: "Operator `<=` is not supported for type `felt`",
            file_path: "expressions/comparison_ops.cm",
            span: 369..370,
            related_spans: [],
        },
        Diagnostic {
            severity: Error,
            code: TypeMismatch,
            message: "Operator `>=` is not supported for type `felt`",
            file_path: "expressions/comparison_ops.cm",
            span: 456..457,
            related_spans: [],
        },
        Diagnostic {
            severity: Error,
            code: TypeMismatch,
            message: "Operator `<` is not supported for type `felt`",
            file_path: "expressions/comparison_ops.cm",
            span: 594..595,
            related_spans: [],
        },
        Diagnostic {
            severity: Error,
            code: TypeMismatch,
            message: "Operator `>` is not supported for type `felt`",
            file_path: "expressions/comparison_ops.cm",
            span: 636..637,
            related_spans: [],
        },
    ],
}
